<!DOCTYPE html> 
<html> 
<head> 
	<title>Roulette</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="jquery.mobile-1.2.0.css" />
	<script src="jquery-1.8.1.min.js"></script>
	<script src="jquery.mobile-1.2.0.min.js"></script>
	
	<script>
	$(document).ready(function(){
		loadBuildings();
		});
	
	function loadBuildings() {
		$('#tablesList').empty();
		$.getJSON('../api/tables/', function(data) {
			var tableObj = data.table;
			$.each(tableObj, function(key, tableObj) {
				var id = tableObj['ID'];
				
				//var code = "<li><a href=\"#detailpage?id=" + id + "\">Table " + id + "</a></li>";
				
				var code = String.format("<li><a href=\"#detailpage?id={0}\">Table {1}</a></li>", id, id);
				$('#tablesList').append(code);
			});
			$("#tablesList").listview('refresh');
		});
	}
	
	String.prototype.format = String.prototype.f = function() {
	    var s = this,
	        i = arguments.length;

	    while (i--) {
	        s = s.replace(new RegExp('\\{' + i + '\\}', 'gm'), arguments[i]);
	    }
	    return s;
	};
	</script>
</head> 
<body> 

<div data-role="page" id="overview">
	<div data-role="header">
		<h1>Roulette</h1>
	</div>

	<div data-role="content">	
		<ul id="tablesList" data-role="listview" data-inset="true" data-filter="true">
			
		</ul>	
	</div>
</div>

<div data-role="page" id="detailpage">
	<div data-role="header">
		<h1>Buildingdetails</h1>
	</div>
	<div data-role="content">
		<label for="idfield">ID</label>
		<input type="text" id="idfield" disabled="disabled"/>
	
		<label for="officialnamefield">Official name</label>
		<input type="text" id="officialnamefield"/>
		
		<label for="nicknamefield">Nick name</label>
		<input type="text" id="nicknamefield"/>
		
		<a href="#" data-role="button" data-icon="check" onClick="">Save</a>
		<a href="#listpage" data-role="button" data-icon="back">Cancel</a>
	</div>
</div>
</body>
</html>